# HG changeset patch
# User Fernando Jimenez Moreno <ferjmoreno@gmail.com>
# Parent  020cc15b7b8f319b206bab7fc27bf3b4aebd4126
Bug 1361994 - Part 3: Fix test_condition_text.html and update expected stylo test failures. r?xidorn

diff --git a/layout/style/test/stylo-failures.md b/layout/style/test/stylo-failures.md
--- a/layout/style/test/stylo-failures.md
+++ b/layout/style/test/stylo-failures.md
@@ -51,17 +51,17 @@ to mochitest command.
     * test_animations_reverse.html [1]
   * SMIL Animation
     * test_restyles_in_smil_animation.html [2]
   * Property parsing and computation:
     * test_property_syntax_errors.html `animation` [20]
 * CSSOM support:
   * \@import bug 1352968
     * test_bug221428.html [1]
-    * test_css_eof_handling.html: also relies on \@-moz-document [1]
+    * test_css_eof_handling.html [1]
   * \@keyframes bug 1345697
     * test_keyframes_rules.html [1]
     * test_rules_out_of_sheets.html [1]
   * \@support bug 1355394
     * test_supports_rules.html [6]
 * test_bug357614.html: case-insensitivity for old attrs in attr selector servo/servo#15006 [2]
 * test_bug387615.html: servo/servo#15006 [1]
 * test_bug397427.html: @import issue bug 1331291 and CSSOM support of @import [1]
@@ -218,19 +218,16 @@ to mochitest command.
     * ... `border-spacing: ` [6]
     * ... `rect(1, ` [2]
   * test_hover_quirk.html: hover quirks bug 1355724 [6]
 * test_pseudoelement_parsing.html: support parsing some pseudo-classes on some pseudo-elements [5]
 * Unit should be preserved after parsing servo/servo#15346
   * test_units_time.html [1]
 * insertRule / deleteRule don't work bug 1336863
   * test_rule_insertion.html [5]
-* @-moz-document support bug 1355408
-  * test_rule_serialization.html [2]
-  * test_condition_text.html: also \@supports [11]
 * getComputedStyle style doesn't contain custom properties bug 1336891
   * test_variable_serialization_computed.html [35]
   * test_variables.html `custom property name` [2]
 * test_css_supports.html: issues around @supports syntax servo/servo#15482 [8]
 * test_author_specified_style.html: support serializing color as author specified bug 1348165 [27]
 * browser_newtab_share_rule_processors.js: agent style sheet sharing [1]
 * test_selectors.html `this_better_be_unvisited`: visited handling [1]
 * test_selectors.html `:nth-child`: &lt;an+b&gt; parsing difference servo/rust-cssparser#138 [14]
diff --git a/layout/style/test/test_condition_text.html b/layout/style/test/test_condition_text.html
--- a/layout/style/test/test_condition_text.html
+++ b/layout/style/test/test_condition_text.html
@@ -23,17 +23,17 @@ https://bugzilla.mozilla.org/show_bug.cg
     @media (color ) {}
     @media color \0061ND ( monochrome ) {}
     @media (max-width: 200px), (color) {}
 
     @supports(color: green){}
     @supports (color: green) {}
     @supports ((color: green)) {}
     @supports (color: green) and (color: blue) {}
-    @supports ( Font:  20px serif ! Important)  {}
+    @supports (Font:  20px serif ! Important)  {}
   </style>
 </head>
 <body>
 <a target="_blank" href="https://bugzilla.mozilla.org/show_bug.cgi?id=814907">Mozilla Bug 814907</a>
 <p id="display"></p>
 <div id="content" style="display: none">
 
 </div>
@@ -64,17 +64,17 @@ function runTest()
     "only color",
     "(color)",
     "color and (monochrome)",
     "(max-width: 200px), (color)",
     "(color: green)",
     "(color: green)",
     "((color: green))",
     "(color: green) and (color: blue)",
-    "( Font:  20px serif ! Important)"
+    "(Font:  20px serif ! Important)"
   ];
 
   is(sheet.cssRules.length, conditions.length);
 
   for (var i = 0; i < sheet.cssRules.length; i++) {
     var rule = sheet.cssRules[i];
     is(rule.conditionText, conditions[i], "rule " + i + " has expected conditionText");
     if (rule.type == CSSRule.MEDIA_RULE) {
